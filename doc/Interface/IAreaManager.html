<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<link href="../css/interface.css" rel="stylesheet" type="text/css" />
</head>

<body>
<div class="div_body">
  <div class="top"><a href="../Index.html">返回</a></div>
  <div>
    <p>包含文件</p>
    <div class="code">#include &lt;IAreaManager.h&gt;</div>
    <p>&nbsp;</p>
  </div>
  <div>
    <p>函数定义</p>
    <div class="interface_des">
    	<p>
      <div class="code"><span class="key">virtual</span> <span class="type">int</span> <span class="functionname">AddArea</span>(<span class="type">int</span> <span class="value">nPid</span>,<span class="type">QString</span> <span class="value">sName</span>) = 0;</div>
   	  <div class="desc"> 向区域<span class="value">nPid</span>下添加一个名称为<span class="value">sName</span>的新区域。当在根节点下添加区域时，<span class="value">nPid</span>为0。<br />
   	    当函数运行成功时，返回新区域的ID号。当函数运行失败时，返回-1。<br />
   	  </div>
    </p>
    </div>
    <div class="code"><span class="key">virtual</span> <span class="type">int</span> <span class="functionname">RemoveAreaById</span>(<span class="type">int</span> <span class="value">nId</span>) = 0;</div>
    <div class="desc">删除区域<span class="value">nId</span>，删除的同时会删除其下的所有设备、子区域及子区域内的所有设备。<br />
    当函数运行成功时，返回0，否则返回错误号，具体错误号参考“错误号定义”。</div>
    <br/>
    <div class="code"><span class="key">virtual</span> <span class="type">int</span> <span class="functionname">RemoveAreaByName</span>(<span class="type">QString</span> <span class="value">sName</span>) = 0;</div>
    <div class="desc">删除名称为<span class="value">sName</span>的区域，删除的同时会上出其下的所有设备、子区域及子区域内的所有设备。<br />
    当函数运行成功时，返回0，否则返回错误号，具体错误号参考“错误号定义”。</div><br />

    <div class="code"><span class="key">virtual</span> <span class="type">int</span> <span class="functionname">SetAreaName</span>(<span class="type">int</span> <span class="value">nId</span>,<span class="type">QString</span> <span class="value">sName</span>) = 0;</div>
    <div class="desc">设置<span class="value">nId</span>区域的区域名称。<br />
    当函数运行成功时，返回0，否则返回错误号，具体错误号参考“错误号定义”。</div><br />

    <div class="code"><span class="key">virtual</span> <span class="type">bool</span> <span class="functionname">IsAreaNameExist</span>(<span class="type">QString</span> <span class="value">sName</span>) = 0;</div>
    <div class="desc">检查区域名称是否已经存在。<br />
    存在返回true，否则返回false。</div><br />

    <div class="code"><span class="key">virtual</span> <span class="type">int</span> <span class="functionname">GetAreaCount</span>() = 0;</div>
    <div class="desc">获取系统内的区域总数。</div><br />

    <div class="code"><span class="key">virtual</span> <span class="type">QStringList</span> <span class="functionname">GetAreaList</span>() = 0;</div>
    <div class="desc">获取系统内的区域列表，列表内的内容为所有区域节点的ID号。</div><br />

    <div class="code"><span class="key">virtual</span> <span class="type">QStringList</span> <span class="functionname">GetSubArea</span>(<span class="type">int</span> <span class="value">nId</span>) = 0;</div>
    <div class="desc">获取<span class="value">nId</span>区域下一层的子节点列表，列表内的内容为子节点的ID号。</div><br />

    <div class="code"><span class="key">virtual</span> <span class="type">int</span> <span class="functionname">GetAreaPid</span>(<span class="type">int</span> <span class="value">id</span>) = 0;</div>
    <div class="desc">获取区域<span class="value">id</span>的父区域的ID号。</div>
    <br />

    <div class="code"><span class="key">virtual</span> QString <span class="functionname">GetAreaName</span>(<span class="type">int</span> id) = 0;</div>
    <div class="desc">获取区域<span class="value">id</span>的区域名称。</div><br />

    <div class="code"><span class="key">virtual</span> <span class="type">int</span> <span class="functionname">GetAreaInfo</span>(<span class="type">int</span> <span class="value">nId</span>,<span class="type">int</span> &amp;<span class="value">nPid</span>,<span class="type">QString</span> &amp;<span class="value">sName</span>) = 0;</div>
    <div class="desc">获取区域<span class="value">nId</span>的相关信息，其父区域的ID从<span class="value">nPid</span>中返回，其区域名称从<span class="value">sName</span>中返回。<br />
    当函数运行成功时，返回0，否则返回错误号，具体错误号参考“错误号定义”。
<div class="remark">
        备注：<br />
        插件不支持此方法。
      </div>
    </div><br />

    <div class="code"><span class="key">virtual</span> <span class="type">QVariantMap</span> <span class="functionname">GetAreaInfo</span>(<span class="type">int</span> <span class="value">nId</span>) = 0;</div>
    <div class="desc">获取区域<span class="value">nId</span>的相关信息，其中父区域的ID使用键值&quot;pid&quot;来访问，其区域名称使用&quot;name&quot;来访问。</div>
    <p>&nbsp;</p>
  </div>
  <div>
    <p>错误号定义</p>
    <table width="100%" border="1" cellpadding="1" cellspacing="0">
      <tr>
        <td width="17%">&nbsp;</td>
        <td width="27%">&nbsp;</td>
        <td width="56%">&nbsp;</td>
      </tr>
      <tr>
        <td>S_OK</td>
        <td>0</td>
        <td>成功</td>
      </tr>
      <tr>
        <td>E_AREA_NOT_FOUND</td>
        <td>1</td>
        <td>所请求的区域不存在</td>
      </tr>
      <tr>
        <td>E_AREA_NAME_EXISTS</td>
        <td>2</td>
        <td>区域名已经存在</td>
      </tr>
      <tr>
        <td>E_SYSTEM_FAILED</td>
        <td>3</td>
        <td>系统错误</td>
      </tr>
    </table>
  </div>
</div>
</body>
</html>
