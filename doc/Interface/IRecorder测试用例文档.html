<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
</head>

<body>
<p>编辑人：姜晟<br />
  编辑日期：2013.12.31<br />
  文档简介：<br />
  record组件录像测试用例文档<br />
  测试的接口：</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="568" valign="top"><br />
      int  Start() </td>
  </tr>
  <tr>
    <td width="568" valign="top"><p>int  Stop()</p></td>
  </tr>
  <tr>
    <td width="568" valign="top"><p>int  InputFrame (int    type, char    *cbuf,int buffersize)</p></td>
  </tr>
  <tr>
    <td width="568" valign="top"><p>int  SetDevInfo(const QString&amp;devname,int nChannelNum) </p></td>
  </tr>
</table>
<p>需要同时使用的接口IDisksSetting.h (已测):</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="568" valign="top"><br />
      int  setUseDisks(const QString    &amp;  sDisk) </td>
  </tr>
  <tr>
    <td width="568" valign="top"><p>int  getEnableDisks(QString&amp;  sDisks)</p></td>
  </tr>
  <tr>
    <td width="568" valign="top"><p>int  getUseDisks(QString &amp;  sDisk)</p></td>
  </tr>
  <tr>
    <td width="568" valign="top"><p>int  setFilePackageSize(const int  filesize)</p></td>
  </tr>
  <tr>
    <td width="568" valign="top"><p>int  getFilePackageSize    (int&amp; fileszie)</p></td>
  </tr>
  <tr>
    <td width="568" valign="top"><p>int  setLoopRecording(bool  bcover)</p></td>
  </tr>
  <tr>
    <td width="568" valign="top"><p>bool getLoopRecording () </p></td>
  </tr>
  <tr>
    <td width="568" valign="top"><p>int  setDiskSpaceReservedSize(const int spacereservedsize) </p></td>
  </tr>
  <tr>
    <td width="568" valign="top"><p>int  getDiskSpaceReservedSize    (int&amp; spacereservedsize) </p></td>
  </tr>
</table>
<p>测试用例：<br />
  // 用例1</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="133" valign="top"><br />
      测试对象 </td>
    <td width="435" colspan="2" valign="top"><p>int  Start()<br />
      int  Stop() <br />
      int  InputFrame (int    type, char    *cbuf,int buffersize)<br />
      int  SetDevInfo(const QString&amp;devname,int nChannelNum)</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>测试内容</p></td>
    <td width="435" colspan="2" valign="top"><p>测试最后保留空间大小, 录像时用SetDevInfo改写设置,测试文件写入大小和路径</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>前置条件</p></td>
    <td width="435" colspan="2" valign="top"><p>硬盘分区为C:D:E:F:, 程序Debug目录下.h264文件: CIF_12fps_128kbps.h264</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>步骤编号</p></td>
    <td width="164" valign="top"><p>步骤</p></td>
    <td width="271" valign="top"><p>预期</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>1</p></td>
    <td width="164" valign="top"><p>getEnableDisks获取可用分区</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo; C:D:E:F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>2</p></td>
    <td width="164" valign="top"><p>setUseDisks函数设置使用E:F:盘存储录像文件</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>3</p></td>
    <td width="164" valign="top"><p>getUseDisks验证使用磁盘为E:F:</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo;E: F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>4</p></td>
    <td width="164" valign="top"><p>setFilePackageSize设置录像文件包大小为200MB</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>5</p></td>
    <td width="164" valign="top"><p>getFilePackageSize获取录像文件包大小的设置 </p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;200&rdquo;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>6</p></td>
    <td width="164" valign="top"><p>setLoopRecording设置为循环录像</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>7</p></td>
    <td width="164" valign="top"><p>getLoopRecording验证为循环录像 </p></td>
    <td width="271" valign="top"><p>返回值为true</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>8</p></td>
    <td width="164" valign="top"><p>setDiskSpaceReservedSize设置磁盘保留空间大小为5000MB </p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>9</p></td>
    <td width="164" valign="top"><p>getDiskSpaceReservedSize验证上一步设置值 </p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;5000&rdquo;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>10</p></td>
    <td width="164" valign="top"><p align="center">调用SetDevInfo设置设备名为1000和通道数1 </p></td>
    <td width="271" valign="top"><p>返回值为IRecorder:OK</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>11</p></td>
    <td width="164" valign="top"><p>调用Start()开始录像 </p></td>
    <td width="271" valign="top"><p>返回值为IRecorder::OK</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>12</p></td>
    <td width="164" valign="top"><p>打开CIF_12fps_128kbps.h264文件,读取到的帧数据通过InputFrame写入 ,重复n次, (n与测试者磁盘可用空间大小有关)</p></td>
    <td width="271" valign="top"><p>返回值为IRecorder::OK, 在E盘下\REC\&rdquo;日期&rdquo;\1000\CHL01目录下有录像</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>13</p></td>
    <td width="164" valign="top"><p>在开始往F:写数据一定次数后, 调用SetDevInfo设置设备名为1001和通道数1 </p></td>
    <td width="271" valign="top"><p>返回值为IRecorder::OK, 在F:\REC\&rdquo;日期&rdquo;\1000\CHL01目录下有录像文件</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>14</p></td>
    <td width="164" valign="top"><p>继续将读取到的帧数据通过InputFrame写入 ,重复多次</p></td>
    <td width="271" valign="top"><p>返回值为IRecorder:OK, 在F:\REC\&rdquo;日期&rdquo;\1001\CHL01目录下有录像文件</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>15</p></td>
    <td width="164" valign="top"><p>调用Stop()停止</p></td>
    <td width="271" valign="top"><p>返回值为IRecorder::OK, E盘录像文件大小均为200MB±3MB(除文件名最大的外) , E盘剩余保留空间大小为5000MB±200MB</p></td>
  </tr>
</table>
<p>// 用例2</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="133" valign="top"><br />
      测试对象 </td>
    <td width="435" colspan="2" valign="top"><p>int  Start()<br />
      int  Stop() <br />
      int  InputFrame (int    type, char    *cbuf,int buffersize)</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>测试内容</p></td>
    <td width="435" colspan="2" valign="top"><p>录像时不通过SetDevInfo改设置, 测试录像文件写入大小和路径以及最后保留空间大小</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>前置条件</p></td>
    <td width="435" colspan="2" valign="top"><p>硬盘分区为C:D:E:F: , 程序Debug目录下.h264文件: CIF_12fps_128kbps.h264</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>步骤编号</p></td>
    <td width="164" valign="top"><p>步骤</p></td>
    <td width="271" valign="top"><p>预期</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>1</p></td>
    <td width="164" valign="top"><p>getEnableDisks获取可用分区</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo; C:D:E:F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>2</p></td>
    <td width="164" valign="top"><p>setUseDisks函数设置使用E:F:盘存储录像文件</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>3</p></td>
    <td width="164" valign="top"><p>getUseDisks验证使用磁盘为E:F:</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo;E: F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>4</p></td>
    <td width="164" valign="top"><p>setFilePackageSize设置录像文件包大小为200MB</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>5</p></td>
    <td width="164" valign="top"><p>getFilePackageSize获取录像文件包大小的设置 </p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;200&rdquo;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>6</p></td>
    <td width="164" valign="top"><p>setLoopRecording设置为循环录像</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>7</p></td>
    <td width="164" valign="top"><p>getLoopRecording验证为循环录像 </p></td>
    <td width="271" valign="top"><p>返回值为true</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>8</p></td>
    <td width="164" valign="top"><p>setDiskSpaceReservedSize设置磁盘保留空间大小为5000MB </p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>9</p></td>
    <td width="164" valign="top"><p>getDiskSpaceReservedSize验证上一步设置值 </p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;5000&rdquo;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>10</p></td>
    <td width="164" valign="top"><p align="center">调用SetDevInfo设置设备名为2000和通道数4 </p></td>
    <td width="271" valign="top"><p>返回值为IRecorder:OK</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>11</p></td>
    <td width="164" valign="top"><p>调用Start()开始录像 </p></td>
    <td width="271" valign="top"><p>返回值为IRecorder::OK</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>12</p></td>
    <td width="164" valign="top"><p>打开CIF_12fps_128kbps.h264文件,读取到的帧数据通过InputFrame写入 ,重复n次, (n与测试者磁盘可用空间大小有关)</p></td>
    <td width="271" valign="top"><p>返回值为IRecorder:OK</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>13</p></td>
    <td width="164" valign="top"><p>调用Stop()停止,</p></td>
    <td width="271" valign="top"><p>返回值为IRecorder::OK, 录像文件大小均为200MB±3MB,在EF盘有录像,E盘保留空间为5000MB±200MB</p></td>
  </tr>
</table>
<p>&nbsp;</p>
<p>// 用例3</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="133" valign="top"><br />
      测试对象 </td>
    <td width="435" colspan="2" valign="top"><p>int  Start()<br />
      int  Stop() <br />
      int  InputFrame (int    type, char    *cbuf,int buffersize)<br />
      int  SetDevInfo(const QString&amp;devname,int nChannelNum)</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>测试内容</p></td>
    <td width="435" colspan="2" valign="top"><p>测试 不循环录像是否正常停止而不覆盖和测试分区保留空间大小以及路径是否正确</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>前置条件</p></td>
    <td width="435" colspan="2" valign="top"><p>硬盘分区为C:D:E:F: , 程序Debug目录下.h264文件: CIF_12fps_128kbps.h264</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>步骤编号</p></td>
    <td width="164" valign="top"><p>步骤</p></td>
    <td width="271" valign="top"><p>预期</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>1</p></td>
    <td width="164" valign="top"><p>getEnableDisks获取可用分区</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo; C:D:E:F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>2</p></td>
    <td width="164" valign="top"><p>setUseDisks函数设置使用F:盘存储录像文件</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>3</p></td>
    <td width="164" valign="top"><p>getUseDisks验证使用磁盘为F:</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo;F: &rdquo;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>4</p></td>
    <td width="164" valign="top"><p>setFilePackageSize设置录像文件包大小为200MB</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>5</p></td>
    <td width="164" valign="top"><p>getFilePackageSize获取录像文件包大小的设置 </p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;200&rdquo;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>6</p></td>
    <td width="164" valign="top"><p>setLoopRecording设置为非循环录像</p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>7</p></td>
    <td width="164" valign="top"><p>getLoopRecording验证为循环录像 </p></td>
    <td width="271" valign="top"><p>返回值为false</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>8</p></td>
    <td width="164" valign="top"><p>setDiskSpaceReservedSize设置磁盘保留空间大小为5000MB </p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>9</p></td>
    <td width="164" valign="top"><p>getDiskSpaceReservedSize验证上一步设置值 </p></td>
    <td width="271" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;5000&rdquo;</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>10</p></td>
    <td width="164" valign="top"><p align="center">调用SetDevInfo设置设备名为3000和通道数1 </p></td>
    <td width="271" valign="top"><p>返回值为IRecorder:OK</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>11</p></td>
    <td width="164" valign="top"><p>调用Start()开始录像 </p></td>
    <td width="271" valign="top"><p>返回值为IRecorder::OK</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>12</p></td>
    <td width="164" valign="top"><p>打开CIF_12fps_128kbps.h264文件,读取到的帧数据通过循环InputFrame写入,记录录像文件中最小的时间戳</p></td>
    <td width="271" valign="top"><p>返回值为IRecorder:OK</p></td>
  </tr>
  <tr>
    <td width="133" valign="top"><p>13</p></td>
    <td width="164" valign="top"><p>在磁盘可用空间只剩下5000MB±200MB时, 再继续1000次循环</p></td>
    <td width="271" valign="top"><p>时间戳最小的录像文件仍然存在, 且大小为200MB±3MB; F盘保留空间为5000MB±200MB</p></td>
  </tr>
</table>
<p>&nbsp;</p>
<p>// 用例4</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="132" valign="top"><br />
      测试对象 </td>
    <td width="436" colspan="2" valign="top"><p>int  Start()<br />
      int  Stop() <br />
      int  InputFrame (int    type, char    *cbuf,int buffersize)</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>测试内容</p></td>
    <td width="436" colspan="2" valign="top"><p>测试InputFrame参数cbuf和返回值</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>前置条件</p></td>
    <td width="436" colspan="2" valign="top"><p>硬盘分区为C:D:E:F: , 程序Debug目录下.h264文件: CIF_12fps_128kbps.h264</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>步骤编号</p></td>
    <td width="164" valign="top"><p>步骤</p></td>
    <td width="272" valign="top"><p>预期</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>1</p></td>
    <td width="164" valign="top"><p>getEnableDisks获取可用分区</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo; C:D:E:F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>2</p></td>
    <td width="164" valign="top"><p>setUseDisks函数设置使用F:盘存储录像文件</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>3</p></td>
    <td width="164" valign="top"><p>getUseDisks验证使用磁盘为F:</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo; F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>4</p></td>
    <td width="164" valign="top"><p>setFilePackageSize设置录像文件包大小为200MB</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>5</p></td>
    <td width="164" valign="top"><p>getFilePackageSize获取录像文件包大小的设置 </p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;200&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>6</p></td>
    <td width="164" valign="top"><p>setLoopRecording设置为循环录像</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>7</p></td>
    <td width="164" valign="top"><p>getLoopRecording验证为循环录像 </p></td>
    <td width="272" valign="top"><p>返回值为true</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>8</p></td>
    <td width="164" valign="top"><p>setDiskSpaceReservedSize设置磁盘保留空间大小为5000MB </p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>9</p></td>
    <td width="164" valign="top"><p>getDiskSpaceReservedSize验证上一步设置值 </p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;5000&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>10</p></td>
    <td width="164" valign="top"><p align="left">调用SetDevInfo设置设备名为4000和通道数1 </p></td>
    <td width="272" valign="top"><p>返回值为IRecorder:OK</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>11</p></td>
    <td width="164" valign="top"><p>调用Start()开始录像 </p></td>
    <td width="272" valign="top"><p>返回值为IRecorder::OK</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>12</p></td>
    <td width="164" valign="top"><p>打开CIF_12fps_128kbps.h264文件,读取到的帧数据通过InputFrame写入,调用InputFrame时设置参数cbuf为NULL, 其他参数正确</p></td>
    <td width="272" valign="top"><p>返回值为IRecorder: E_PARAMETER_ERROR</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>13</p></td>
    <td width="164" valign="top"><p>调用Stop()停止</p></td>
    <td width="272" valign="top"><p>返回值为IRecorder::OK,  F盘录像文件无</p></td>
  </tr>
</table>
<p>// 用例5</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="132" valign="top"><br />
      测试对象 </td>
    <td width="436" colspan="2" valign="top"><p>int  Start()<br />
      int  Stop() <br />
      int  InputFrame (int    type, char    *cbuf,int buffersize)</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>测试内容</p></td>
    <td width="436" colspan="2" valign="top"><p>测试InputFrame参数type和返回值</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>前置条件</p></td>
    <td width="436" colspan="2" valign="top"><p>硬盘分区为C:D:E:F: , 程序Debug目录下.h264文件: CIF_12fps_128kbps.h264</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>步骤编号</p></td>
    <td width="164" valign="top"><p>步骤</p></td>
    <td width="272" valign="top"><p>预期</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>1</p></td>
    <td width="164" valign="top"><p>getEnableDisks获取可用分区</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo; C:D:E:F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>2</p></td>
    <td width="164" valign="top"><p>setUseDisks函数设置使用F:盘存储录像文件</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>3</p></td>
    <td width="164" valign="top"><p>getUseDisks验证使用磁盘为F:</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo; F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>4</p></td>
    <td width="164" valign="top"><p>setFilePackageSize设置录像文件包大小为200MB</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>5</p></td>
    <td width="164" valign="top"><p>getFilePackageSize获取录像文件包大小的设置 </p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;200&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>6</p></td>
    <td width="164" valign="top"><p>setLoopRecording设置为循环录像</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>7</p></td>
    <td width="164" valign="top"><p>getLoopRecording验证为循环录像 </p></td>
    <td width="272" valign="top"><p>返回值为true</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>8</p></td>
    <td width="164" valign="top"><p>setDiskSpaceReservedSize设置磁盘保留空间大小为5000MB </p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>9</p></td>
    <td width="164" valign="top"><p>getDiskSpaceReservedSize验证上一步设置值 </p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;5000&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>10</p></td>
    <td width="164" valign="top"><p align="center">调用SetDevInfo设置设备名为5000和通道数1 </p></td>
    <td width="272" valign="top"><p>返回值为IRecorder:OK</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>11</p></td>
    <td width="164" valign="top"><p>调用Start()开始录像 </p></td>
    <td width="272" valign="top"><p>返回值为IRecorder::OK</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>12</p></td>
    <td width="164" valign="top"><p>打开CIF_12fps_128kbps.h264文件,读取到的帧数据通过InputFrame写入,调用InputFrame 时设置参数type为0x3, 其他参数正确</p></td>
    <td width="272" valign="top"><p>返回值为IRecorder: E_PARAMETER_ERROR</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>13</p></td>
    <td width="164" valign="top"><p>调用Stop()停止</p></td>
    <td width="272" valign="top"><p>返回值为IRecorder::OK,  F盘录像文件无</p></td>
  </tr>
</table>
<p>// 用例6</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="132" valign="top"><br />
      测试对象 </td>
    <td width="436" colspan="2" valign="top"><p>int  Start()<br />
      int  Stop() <br />
      int  InputFrame (int    type, char    *cbuf,int buffersize)</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>测试内容</p></td>
    <td width="436" colspan="2" valign="top"><p>测试InputFrame参数buffersize和返回值</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>前置条件</p></td>
    <td width="436" colspan="2" valign="top"><p>硬盘分区为C:D:E:F: , 程序Debug目录下.h264文件: CIF_12fps_128kbps.h264</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>步骤编号</p></td>
    <td width="164" valign="top"><p>步骤</p></td>
    <td width="272" valign="top"><p>预期</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>1</p></td>
    <td width="164" valign="top"><p>getEnableDisks获取可用分区</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo; C:D:E:F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>2</p></td>
    <td width="164" valign="top"><p>setUseDisks函数设置使用F:盘存储录像文件</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>3</p></td>
    <td width="164" valign="top"><p>getUseDisks验证使用磁盘为F:</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo; F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>4</p></td>
    <td width="164" valign="top"><p>setFilePackageSize设置录像文件包大小为200MB</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>5</p></td>
    <td width="164" valign="top"><p>getFilePackageSize获取录像文件包大小的设置 </p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;200&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>6</p></td>
    <td width="164" valign="top"><p>setLoopRecording设置为循环录像</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>7</p></td>
    <td width="164" valign="top"><p>getLoopRecording验证为循环录像 </p></td>
    <td width="272" valign="top"><p>返回值为true</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>8</p></td>
    <td width="164" valign="top"><p>setDiskSpaceReservedSize设置磁盘保留空间大小为5000MB </p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>9</p></td>
    <td width="164" valign="top"><p>getDiskSpaceReservedSize验证上一步设置值 </p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;5000&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>10</p></td>
    <td width="164" valign="top"><p align="center">调用SetDevInfo设置设备名为6000和通道数1 </p></td>
    <td width="272" valign="top"><p>返回值为IRecorder:OK</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>11</p></td>
    <td width="164" valign="top"><p>调用Start()开始录像 </p></td>
    <td width="272" valign="top"><p>返回值为IRecorder::OK</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>12</p></td>
    <td width="164" valign="top"><p>打开CIF_12fps_128kbps.h264文件,读取到的帧数据通过InputFrame写入 ,重复n次,调用InputFrame时设置参数buffersize为-300, 其他参数正确</p></td>
    <td width="272" valign="top"><p>返回值为IRecorder: E_PARAMETER_ERROR</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>13</p></td>
    <td width="164" valign="top"><p>调用Stop()停止</p></td>
    <td width="272" valign="top"><p>返回值为IRecorder::OK,  F盘录像文件无</p></td>
  </tr>
</table>
<p>// 用例7</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="132" valign="top"><br />
      测试对象 </td>
    <td width="436" colspan="2" valign="top"><p>int  Start()<br />
      int  Stop() <br />
      int  InputFrame (int    type, char    *cbuf,int buffersize)<br />
      int  SetDevInfo(const QString&amp;devname,int nChannelNum)</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>测试内容</p></td>
    <td width="436" colspan="2" valign="top"><p>测试SetDevInfo参数nChannelNum和返回值</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>前置条件</p></td>
    <td width="436" colspan="2" valign="top"><p>硬盘分区为C:D:E:F: , 程序Debug目录下.h264文件: CIF_12fps_128kbps.h264</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>步骤编号</p></td>
    <td width="164" valign="top"><p>步骤</p></td>
    <td width="272" valign="top"><p>预期</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>1</p></td>
    <td width="164" valign="top"><p>getEnableDisks获取可用分区</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo; C:D:E:F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>2</p></td>
    <td width="164" valign="top"><p>setUseDisks函数设置使用F:盘存储录像文件</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>3</p></td>
    <td width="164" valign="top"><p>getUseDisks验证使用磁盘为F:</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK; 输出值为&rdquo; F:&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>4</p></td>
    <td width="164" valign="top"><p>setFilePackageSize设置录像文件包大小为200MB</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>5</p></td>
    <td width="164" valign="top"><p>getFilePackageSize获取录像文件包大小的设置 </p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;200&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>6</p></td>
    <td width="164" valign="top"><p>setLoopRecording设置为循环录像</p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>7</p></td>
    <td width="164" valign="top"><p>getLoopRecording验证为循环录像 </p></td>
    <td width="272" valign="top"><p>返回值为true</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>8</p></td>
    <td width="164" valign="top"><p>setDiskSpaceReservedSize设置磁盘保留空间大小为5000MB </p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>9</p></td>
    <td width="164" valign="top"><p>getDiskSpaceReservedSize验证上一步设置值 </p></td>
    <td width="272" valign="top"><p>返回值为IDisksSetting::OK;输出值为&rdquo;5000&rdquo;</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>10</p></td>
    <td width="164" valign="top"><p align="center">调用SetDevInfo设置设备名为7000和通道数1 </p></td>
    <td width="272" valign="top"><p>返回值为IRecorder:OK</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>11</p></td>
    <td width="164" valign="top"><p>调用Start()开始录像 </p></td>
    <td width="272" valign="top"><p>返回值为IRecorder::OK</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>12</p></td>
    <td width="164" valign="top"><p>打开CIF_12fps_128kbps.h264文件,读取到的帧数据通过InputFrame写入 ,重复n次,设置正确的参数</p></td>
    <td width="272" valign="top"><p>返回值为IRecorder: :OK</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>13</p></td>
    <td width="164" valign="top"><p>达到n次后, 调用SetDevInfo设置nChannelNum为-200, 设备名devname设为&rdquo;7001&rdquo;</p></td>
    <td width="272" valign="top"><p>返回值为IRecorder: : E_PARAMETER_ERROR</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>14</p></td>
    <td width="164" valign="top"><p>继续读取文件的帧数据通过InputFrame写入 ,重复1000次,设置正确的参数 </p></td>
    <td width="272" valign="top"><p>返回值为IRecorder: :OK</p></td>
  </tr>
  <tr>
    <td width="132" valign="top"><p>15</p></td>
    <td width="164" valign="top"><p>调用Stop()停止</p></td>
    <td width="272" valign="top"><p>返回值为IRecorder::OK,  F盘有录像文件但是无目录为-200</p></td>
  </tr>
</table>
</body>
</html>
