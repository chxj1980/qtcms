<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
</head>

<body>
<p>包含文件</p>
<p>#include&lt;IRecordDat.h&gt;</p>
<p>函数定义：</p>
<p> //录像初始化<br />
virtual bool init(int nWnd)=0;<br />
//退出录像<br />
virtual bool deinit()=0;<br />
//输入 录像数据<br />
virtual int  inputFrame(QVariantMap &amp;tFrameInfo)=0;</p>
<p> //手动录像<br />
  //开启手动录像<br />
  virtual bool manualRecordStart()=0;<br />
  //关闭手动录像<br />
  virtual bool manualRecordStop()=0;</p>
<p> //移动录像<br />
  //开启移动录像<br />
  //nTime:移动录像信号的持续时间<br />
  virtual bool motionRecordStart(int nTime)=0;</p>
<p> //获取录像状态<br />
  //返回值按位计算：移动侦测 手动录像 定时录像，高位优先级大于低位，例如 110表示 移动侦测，010 表示 手动录像<br />
  virtual int getRecordStatus()=0;</p>
<p> //更新录像日程表<br />
  //nChannelId:通道在日程表中id号<br />
  virtual bool updateRecordSchedule(int nChannelId)=0;<br />
  //更新系统数据库<br />
  virtual bool upDateSystemDatabase()=0;</p>
<p>错误号定义<br />
  enum _emError{<br />
  OK = 0,          //成功<br />
  E_PARAMETER_ERROR, //输入参数不正确<br />
  E_SYSTEM_FAILED,   //系统错误<br />
  };</p>
<p>/*<br />
frameinfo参数：<br />
&quot;frametype&quot;:帧类型，取值'I'0x01,'P'0x02,'B','A'0x00<br />
&quot;data&quot;:数据指针<br />
&quot;length&quot;:数据长度<br />
&quot;pts&quot;:当前帧64位时间戳，精确到微妙<br />
&quot;gentime&quot;:帧的产生事件，单位为秒，为GMT时间<br />
<br />
&quot;channel&quot;:当前帧的通道号，如果是音频帧，不传递该参数<br />
&quot;winid&quot;:窗口号<br />
&quot;width&quot;:视频帧的宽，单位像素，如果是音频帧，不传递该参数<br />
&quot;height&quot;:视频帧的高，单位像素，如果是音频帧，不传递该参数<br />
&quot;vcodec&quot;:视频帧的编码格式，当前定义值:&quot;H264&quot;，如果是音频帧，不传递该参数<br />
<br />
&quot;samplerate&quot;:音频采样率，如果是视频帧，不传递该参数<br />
&quot;samplewidth&quot;:音频采样位宽，如果是视频帧，不传递该参数<br />
&quot;audiochannel&quot;:音频的采样通道数，如果是视频帧，不传递该参数<br />
&quot;acodec&quot;:音频编码格式，当前定义值：&quot;G711&quot;，如果是视频帧，不传递该参数<br />
*/</p>
</body>
</html>
