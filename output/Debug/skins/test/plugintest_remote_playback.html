<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>settings</title>
<script language="javascript" src="js/qframework.js" ></script>
<script language="javascript">
function Onload()
{
    var obj = document.getElementById('windows');
    obj.AddEventProc("foundFile", "alert('foundFile');");
    obj.AddEventProc("foundFile", 'foundFile(ev)');
}

function foundFile(ev) {
    var str;
    str = ev.channel + "\n" + ev.types + "\n" + ev.start + "\n" + ev.end + "\n" + ev.filename;
    alert(str); 
}

function GroupSpeedNormal() {
    var obj = document.getElementById('windows');
    alert('GroupSpeedNormal');
    obj.GroupSpeedNormal();
}
function GroupSpeedSlow() {
    var obj = document.getElementById('windows');
    alert('GroupSpeedSlow');
    obj.GroupSpeedSlow();
}
function GroupSpeedFast() {
    var obj = document.getElementById('windows');
    alert('GroupSpeedFast');
    obj.GroupSpeedFast();
}
function GroupStop() {
    var obj = document.getElementById('windows');
    alert('GroupStop');
    obj.GroupStop();
}

function GroupContinue() {
    var obj = document.getElementById('windows');
    alert('GroupContinue');
    obj.GroupContinue();
}
function AddChannelIntoPlayGroup() {
    var obj = document.getElementById('windows');
	var uiWndIndex=document.getElementById('uiWndIndex');
	var sAddress=document.getElementById('sAddress');
	var uiPort=document.getElementById('uiPort');
	var sEseeId=document.getElementById('sEseeId');
	var uiChannelId=document.getElementById('uiChannelId');
	var uiStreamId=document.getElementById('uiStreamId');
	var sUsername=document.getElementById('sUsername');
	var sPassword = document.getElementById('sPassword');

	alert('AddChannelIntoPlayGroup');
	obj.AddChannelIntoPlayGroup(sAddress.value, parseInt(uiPort.value), sEseeId.value, parseInt(uiChannelId.value), parseInt(uiWndIndex.value));
}

function OpenCamraInWnd() {
    var obj = document.getElementById('windows');
    var uiWndIndex = document.getElementById('uiWndIndex');
    var sAddress = document.getElementById('sAddress');
    var uiPort = document.getElementById('uiPort');
    var sEseeId = document.getElementById('sEseeId');
    var uiChannelId = document.getElementById('uiChannelId');
    var uiStreamId = document.getElementById('uiStreamId');
    var sUsername = document.getElementById('sUsername');
    var sPassword = document.getElementById('sPassword');
    var sCameraname = document.getElementById('sCameraname');
    var sVendor = document.getElementById('sVendor');
    alert(parseInt(uiWndIndex.value));
    obj.OpenCameraInWnd(sAddress.value, parseInt(uiPort.value), sEseeId.value, parseInt(uiChannelId.value), parseInt(uiStreamId.value), sUsername.value, sPassword.value, sCameraname.value, sVendor.value);
}
function CloseWndCamera() {
    var obj = document.getElementById('windows');
    var uiWndIndex = document.getElementById('uiWndIndex');
    alert('CloseWndCamera');
    obj.CloseWndCamera(parseInt(uiWndIndex.value));
}
function startSearchRecFile() {
    var obj = document.getElementById('windows');
    var nType = document.getElementById('nType');
    var startTime = document.getElementById('startTime');
    var endTime = document.getElementById('endTime');

    var channels = 15;

    alert('startSearchRecFile');
    obj.startSearchRecFile(parseInt(channels), parseInt(nType.value), startTime.value, endTime.value);
}

var timerID = null;
var timerRunning = false;

function startclock() {
    stopclock();
    GroupGetPlayedTime();
}

function stopclock() {
    if (timerRunning)
        clearTimeout(timerID);
    timerRunning = false;
}
function GroupGetPlayedTime() {
    var obj = document.getElementById('windows');
   alert('GroupGetPlayedTime');
    var timeValue;
    obj.getGroupPlayedTime();
    document.clock.playTime.value = timeValue;
    timerID = setTimeout("GroupGetPlayedTime()", 1000);
    timerRunning = true;
}

function GroupPlay() {
    var obj = document.getElementById('windows');
    var nType = document.getElementById('nType');
    var startTime = document.getElementById('startTime');
    var endTime = document.getElementById('endTime');

    alert('GroupPlay');
    obj.GroupPlay(parseInt(uiWndIndex.value), startTime, endTime);
}
function GroupPause() {
    var obj = document.getElementById('windows');
    alert('GroupPause');
    obj.GroupPause();
}
</script>
</head>

<body onload="Onload()">
  <object type="application/cms-remote-playback" id="windows" style="width:800; height:1000;"></object>


<table border="0" cellspacing="0" cellpadding="0" width="50%">
	<tr>
		<td>uiWndIndex</td>
		<td><input type="text" id="uiWndIndex" value="0"/></td>
        <td><button onclick="AddChannelIntoPlayGroup()">add channel into group</button></td>
	</tr>
	<tr>
		<td>sAddress</td>
		<td><input type="text" id="sAddress" value="192.168.2.134"/></td>
        <td><button onclick="GroupPlay()">group play</button></td>
	</tr>
	<tr>
		<td>uiPort</td>
		<td><input type="text" id="uiPort" value="8785"/></td>
        <td><button onclick="GroupPause()">group pause</button></td>
	</tr>
	<tr>
		<td>sEseeId</td>
		<td><input type="text" id="sEseeId" value="0"/></td>
        <td><button onclick="GroupContinue()">group continue</button></td>
	</tr>
	<tr>
		<td>uiChannelId</td>
		<td><input type="text" id="uiChannelId" value="1"/></td>
        <td><button onclick="GroupStop()">group stop</button></td>
	</tr>
	<tr>
		<td>uiStreamId</td>
		<td><input type="text" id="uiStreamId" value="0"/></td>
        <td><button onclick="GroupSpeedFast()">group speed fast</button></td>
	</tr>
	<tr>
		<td>sUsername</td>
		<td><input type="text" id="sUsername" value="admin"/></td>
        <td><button onclick="GroupSpeedSlow()">group speed slow</button></td>
	</tr>
	<tr>
		<td>sPassword</td>
		<td><input type="text" id="sPassword" value=""/></td>
        <td><button onclick="GroupSpeedNormal()">group speed normal</button></td>
	</tr>
    <tr>
		<td>sCameraname</td>
		<td><input type="text" id="sCameraname" value="test"/></td>
        <td><button onclick="OpenCamraInWnd()">open camera in wnd</button></td>
	</tr>
    <tr>
		<td>sVendor</td>
		<td><input type="text" id="sVendor" value="JUAN IPC"/></td>
        <td><button onclick="CloseWndCamera()">close wnd camera</button></td>
	</tr>
    <tr>
		<td>nType</td>
		<td><input type="text" id="nType" value="15"/></td>
        <td><button onclick="startSearchRecFile()">start search record file</button></td>
	</tr>
	<tr>
		<td>startTime</td>
		<td><input type="text" id="startTime" value="2013-12-20 08:00:00"/></td>
        <td><button onclick="GroupGetPlayedTime()">get play time</button></td>
        <td><form name="clock"><input type="text" name="playTime" size=20 value=""/></form></td>
	</tr>
	<tr>
		<td>endTime</td>
		<td><input type="text" id="endTime" value="2013-12-20 23:00:00"/></td>
	</tr>

</table>


</body>
</html>